(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{6951:function(D,u,e){Promise.resolve().then(e.bind(e,4633))},4633:function(D,u,e){"use strict";e.r(u),e.d(u,{default:function(){return F}});var t=e(7437),n=e(2265);let o=(0,n.forwardRef)((D,u)=>{let{content:e,onChange:o}=D,r=(0,n.useRef)(null),i=u||r,[s,l]=(0,n.useState)(!1),a=(0,n.useRef)(!1);return(0,n.useEffect)(()=>{i.current&&!a.current&&i.current.innerText!==e&&(i.current.innerText=e),a.current=!1},[e,i]),(0,t.jsx)("div",{ref:i,className:"\n        h-full overflow-auto p-3 rounded-[10px] \n        border border-borderEditor outline-none bg-editor\n        leading-[1.55] text-base whitespace-pre-wrap font-emoji\n        ".concat(s?"editor-focus":"","\n      "),contentEditable:!0,spellCheck:!1,dir:"auto",onInput:()=>{i.current&&(a.current=!0,o(i.current.innerText))},onFocus:()=>l(!0),onBlur:()=>l(!1),suppressContentEditableWarning:!0})});function r(D){let{content:u,enabled:e}=D,o=(0,n.useRef)(null);(0,n.useEffect)(()=>{if(e&&o.current){if(window.twemoji)r();else{let D=document.createElement("script");D.src="https://cdn.jsdelivr.net/npm/twemoji@14.0.2/dist/twemoji.min.js",D.crossOrigin="anonymous",D.onload=()=>{r()},document.head.appendChild(D)}}},[u,e]);let r=()=>{o.current&&window.twemoji&&(o.current.textContent=u,window.twemoji.parse(o.current,{base:"https://cdn.jsdelivr.net/npm/twemoji@14.0.2/assets/",folder:"svg",ext:".svg"}))};return e?(0,t.jsx)("div",{ref:o,className:"h-full overflow-auto p-3 rounded-[10px]  border border-borderEditor outline-none bg-editor leading-[1.55] text-base whitespace-pre-wrap font-emoji","aria-live":"polite"}):null}function i(D){let{onFixKeycaps:u,onListToKeycap:e,onCopy:n,onClear:o,copyStatus:r}=D;return(0,t.jsxs)("div",{className:"flex gap-2 flex-wrap mb-2",children:[(0,t.jsx)("button",{onClick:u,className:"bg-buttonPrimary text-text border border-ring rounded-[10px] px-3 py-2 cursor-pointer text-sm hover:border-ring transition-colors",children:"修复旧式 Keycap（1⃣→1️⃣）"}),(0,t.jsx)("button",{onClick:e,className:"bg-button text-text border border-buttonBorder rounded-[10px] px-3 py-2 cursor-pointer text-sm hover:border-ring transition-colors",children:"段首数字→Keycap（1./1、/1-）（注意：./、-后要有空格才能识别）"}),(0,t.jsx)("button",{onClick:n,className:"bg-button text-text border border-buttonBorder rounded-[10px] px-3 py-2 cursor-pointer text-sm hover:border-ring transition-colors",children:r?"已复制 ✅":"复制文本"}),(0,t.jsx)("button",{onClick:o,className:"bg-button text-text border border-buttonBorder rounded-[10px] px-3 py-2 cursor-pointer text-sm hover:border-ring transition-colors",children:"清空"})]})}function s(D){return D.replace(/([0-9])\u20E3/g,"$1️⃣")}function l(D,u){let e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"text/plain",t=new Blob([u],{type:"".concat(e,";charset=utf-8")}),n=URL.createObjectURL(t),o=document.createElement("a");o.href=n,o.download=D,o.click(),setTimeout(()=>URL.revokeObjectURL(n),1e3)}async function a(D){if(window.html2pdf||await new Promise((D,u)=>{if(window.html2pdf){D();return}let e=document.createElement("script");e.src="https://cdn.jsdelivr.net/npm/html2pdf.js@0.10.1/dist/html2pdf.bundle.min.js",e.crossOrigin="anonymous",e.onload=()=>D(),e.onerror=()=>u(Error("Failed to load html2pdf.js")),document.head.appendChild(e)}),!window.html2pdf)throw Error("PDF 组件加载失败，请联网后重试");let u=document.createElement("div");u.className="pdf-container",u.style.cssText='\n    position: fixed;\n    left: -10000px;\n    top: 0;\n    width: 794px;\n    background: #ffffff;\n    color: #000000;\n    padding: 40px;\n    line-height: 1.8;\n    font-size: 16px;\n    white-space: pre-wrap;\n    font-family: ui-sans-serif, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", \n                 "PingFang SC", "Hiragino Sans GB", "Noto Sans CJK SC", "Microsoft YaHei", sans-serif;\n    visibility: visible;\n    opacity: 1;\n    z-index: 999999;\n    box-sizing: border-box;\n  ',u.textContent=D,document.body.appendChild(u),window.twemoji&&window.twemoji.parse(u,{base:"https://cdn.jsdelivr.net/npm/twemoji@14.0.2/assets/",folder:"72x72",ext:".png",attributes:()=>({crossorigin:"anonymous",style:"height: 1.2em; width: 1.2em; margin: 0 0.05em; vertical-align: -0.2em;"})});let e=u.querySelectorAll("img");e.length>0&&await Promise.all(Array.from(e).map(D=>new Promise(u=>{D.complete&&0!==D.naturalHeight?u():(D.addEventListener("load",()=>u(),{once:!0}),D.addEventListener("error",()=>u(),{once:!0}),setTimeout(()=>u(),3e3))}))),u.style.left="0",u.style.top="0",await new Promise(D=>requestAnimationFrame(()=>{requestAnimationFrame(D)}));let t={margin:[.5,.5,.5,.5],filename:"emoji_document.pdf",image:{type:"jpeg",quality:.95},html2canvas:{scale:2,useCORS:!0,backgroundColor:"#ffffff",logging:!1,allowTaint:!1,foreignObjectRendering:!1,windowWidth:850,windowHeight:1200,scrollX:0,scrollY:0,x:0,y:0,width:794,height:u.scrollHeight},jsPDF:{unit:"in",format:"a4",orientation:"portrait",compress:!0},pagebreak:{mode:["avoid-all","css","legacy"]}};try{await window.html2pdf().from(u).set(t).save()}finally{u.remove()}}function d(D){let{content:u,editorRef:e,previewEnabled:o,onTogglePreview:r}=D,[i,s]=(0,n.useState)(!1),[d,c]=(0,n.useState)(!1),C=(0,n.useRef)(null),E=(0,n.useRef)(null);(0,n.useEffect)(()=>{if(!d)return;let D=D=>{let u=D.target;C.current&&!C.current.contains(u)&&E.current&&!E.current.contains(u)&&c(!1)},u=D=>{"Escape"===D.key&&c(!1)};return document.addEventListener("mousedown",D),document.addEventListener("keydown",u),()=>{document.removeEventListener("mousedown",D),document.removeEventListener("keydown",u)}},[d]);let m=()=>{l("document-editable.html",'<!doctype html>\n<html lang="zh-CN">\n<head>\n  <meta charset="utf-8">\n  <meta name="viewport" content="width=device-width,initial-scale=1">\n  <title>Document (Editable, Native Emoji)</title>\n  <style>\n    body {\n      margin: 24px;\n      font-family: ui-sans-serif, -apple-system, "Segoe UI", Roboto, "Helvetica Neue",\n                   "PingFang SC", "Hiragino Sans GB", "Noto Sans CJK SC", "Microsoft YaHei", sans-serif;\n    }\n    .doc {\n      white-space: pre-wrap;\n      line-height: 1.6;\n      font-size: 16px;\n      font-family: inherit, "Apple Color Emoji", "Segoe UI Emoji", "Noto Color Emoji", \n                   "Twemoji Mozilla", "EmojiOne Color";\n    }\n  </style>\n</head>\n<body>\n  <div class="doc" contenteditable="true" dir="auto">'.concat(function(D){let u={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};return D.replace(/[&<>"]/g,D=>u[D])}(u),"</div>\n</body>\n</html>"),"text/html")},h=()=>{!function(D){let u=document.createElement("div");u.textContent=D,window.twemoji&&window.twemoji.parse(u,{base:"https://cdn.jsdelivr.net/npm/twemoji@14.0.2/assets/",folder:"svg",ext:".svg"});let e=u.innerHTML;l("document-twemoji.html",'<!doctype html>\n<html lang="zh-CN">\n<head>\n  <meta charset="utf-8">\n  <meta name="viewport" content="width=device-width,initial-scale=1">\n  <title>Document (Twemoji Snapshot)</title>\n  <style>\n    body {\n      margin: 24px;\n      font-family: ui-sans-serif, -apple-system, "Segoe UI", Roboto, "Helvetica Neue",\n                   "PingFang SC", "Hiragino Sans GB", "Noto Sans CJK SC", "Microsoft YaHei", sans-serif;\n    }\n    .doc {\n      white-space: pre-wrap;\n      line-height: 1.6;\n      font-size: 16px;\n    }\n    .doc img.emoji {\n      height: 1em;\n      width: 1em;\n      margin: 0 .05em;\n      vertical-align: -0.1em;\n    }\n  </style>\n</head>\n<body>\n  <div class="doc" dir="auto">'.concat(e,"</div>\n  <!-- 注：此版本为展示一致的快照，emoji 为 <img>；需要联网访问 jsDelivr 的 Twemoji 资源。 -->\n</body>\n</html>"),"text/html")}(u)},F=()=>{l("document.md",u,"text/markdown")},x=async()=>{s(!0);try{await a(u)}catch(D){console.error("PDF export failed:",D),alert("PDF生成失败："+D.message)}finally{s(!1)}};return(0,t.jsxs)("div",{className:"flex gap-2 flex-wrap mb-2 items-start",children:[(0,t.jsx)("button",{onClick:r,className:"bg-button text-text border border-buttonBorder rounded-[10px] px-3 py-2 cursor-pointer text-sm hover:border-ring transition-colors",children:o?"关闭 Twemoji 预览":"开启 Twemoji 预览"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsxs)("button",{ref:E,onClick:()=>c(D=>!D),className:"bg-button text-text border border-buttonBorder rounded-[10px] px-3 py-2 cursor-pointer text-sm hover:border-ring transition-colors flex items-center gap-1","aria-haspopup":"menu","aria-expanded":d,children:["导出",(0,t.jsx)("svg",{width:"12",height:"12",viewBox:"0 0 20 20",fill:"currentColor",className:"opacity-70",children:(0,t.jsx)("path",{fillRule:"evenodd",d:"M5.23 7.21a.75.75 0 011.06.02L10 10.94l3.71-3.71a.75.75 0 111.06 1.06l-4.24 4.24a.75.75 0 01-1.06 0L5.21 8.29a.75.75 0 01.02-1.08z",clipRule:"evenodd"})})]}),d&&(0,t.jsxs)("div",{ref:C,className:"absolute right-0 z-50 mt-1 min-w-[220px] bg-panel border border-buttonBorder rounded-lg shadow-lg overflow-hidden",children:[(0,t.jsx)("button",{onClick:()=>{c(!1),m()},className:"block w-full text-left px-4 py-2 text-sm hover:bg-buttonPrimary transition-colors",children:"可编辑 HTML（原生 emoji）"}),(0,t.jsx)("button",{onClick:()=>{c(!1),h()},className:"block w-full text-left px-4 py-2 text-sm hover:bg-buttonPrimary transition-colors",children:"一致 HTML（Twemoji 快照）"}),(0,t.jsx)("button",{onClick:()=>{c(!1),F()},className:"block w-full text-left px-4 py-2 text-sm hover:bg-buttonPrimary transition-colors",children:"Markdown (.md)"}),(0,t.jsx)("button",{onClick:async()=>{c(!1),await x()},disabled:i,className:"block w-full text-left px-4 py-2 text-sm hover:bg-buttonPrimary transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:i?"保存为 PDF（生成中…）":"保存为 PDF"})]})]})]})}function c(){return(0,n.useEffect)(()=>{if(!window.twemoji){let D=document.createElement("script");D.src="https://cdn.jsdelivr.net/npm/twemoji@14.0.2/dist/twemoji.min.js",D.crossOrigin="anonymous",D.async=!0,document.head.appendChild(D)}if(!window.html2pdf){let D=document.createElement("script");D.src="https://cdn.jsdelivr.net/npm/html2pdf.js@0.10.1/dist/html2pdf.bundle.min.js",D.crossOrigin="anonymous",D.async=!0,document.head.appendChild(D)}},[]),null}o.displayName="Editor";var C=e(33);function E(){let{theme:D,toggleTheme:u}=(0,C.Fg)();return(0,t.jsx)("button",{onClick:u,className:" p-2 rounded-lg transition-all duration-200 ease-in-out bg-button hover:bg-buttonPrimary border border-buttonBorder text-text hover:text-accent active:scale-95 flex items-center justify-center min-w-[40px] min-h-[40px] group focus:ring-2 focus:ring-ring focus:ring-offset-2 focus:ring-offset-bg ",title:"Switch to ".concat("dark"===D?"light":"dark"," theme"),"aria-label":"Switch to ".concat("dark"===D?"light":"dark"," theme"),children:"dark"===D?(0,t.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"transition-transform duration-200 group-hover:scale-110",children:[(0,t.jsx)("circle",{cx:"12",cy:"12",r:"5"}),(0,t.jsx)("path",{d:"M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42"})]}):(0,t.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"transition-transform duration-200 group-hover:scale-110",children:(0,t.jsx)("path",{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"})})})}let m=[{label:"表情与人物",icon:"\uD83D\uDE00",emojis:["\uD83D\uDE00","\uD83D\uDE03","\uD83D\uDE04","\uD83D\uDE01","\uD83D\uDE06","\uD83D\uDE05","\uD83D\uDE02","\uD83E\uDD23","\uD83D\uDE0A","\uD83D\uDE07","\uD83D\uDE42","\uD83D\uDE43","\uD83D\uDE09","\uD83D\uDE0C","\uD83D\uDE0D","\uD83D\uDE18","\uD83D\uDE17","\uD83D\uDE19","\uD83D\uDE1A","\uD83D\uDE0B","\uD83D\uDE1B","\uD83D\uDE1D","\uD83D\uDE1C","\uD83E\uDD2A","\uD83E\uDD28","\uD83E\uDD13","\uD83D\uDE0E","\uD83E\uDD29","\uD83D\uDE0F","\uD83D\uDE12","\uD83D\uDE1E","\uD83D\uDE14","\uD83D\uDE1F","\uD83D\uDE15","\uD83D\uDE41","☹️","\uD83D\uDE23","\uD83D\uDE16","\uD83D\uDE2B","\uD83D\uDE29","\uD83D\uDE22","\uD83D\uDE2D","\uD83D\uDE24","\uD83D\uDE20","\uD83D\uDE21","\uD83E\uDD2C","\uD83D\uDE33","\uD83D\uDE31","\uD83D\uDE28","\uD83D\uDE30","\uD83D\uDE25","\uD83D\uDE13","\uD83E\uDD17","\uD83E\uDD14","\uD83E\uDD2D","\uD83E\uDD2B","\uD83E\uDD25","\uD83D\uDE36","\uD83D\uDE10","\uD83D\uDE11","\uD83D\uDE2C","\uD83D\uDE44","\uD83D\uDE2F","\uD83D\uDE26","\uD83D\uDE27","\uD83D\uDE2E","\uD83D\uDE32","\uD83D\uDE34","\uD83E\uDD24","\uD83D\uDE2A","\uD83D\uDE35","\uD83E\uDD10","\uD83E\uDD22","\uD83E\uDD2E","\uD83E\uDD27","\uD83D\uDE37","\uD83E\uDD12","\uD83E\uDD15","\uD83E\uDD11","\uD83E\uDD20","\uD83D\uDE08","\uD83D\uDC7F","\uD83D\uDC79","\uD83D\uDC7A","\uD83E\uDD21","\uD83D\uDCA9","\uD83D\uDC7B","\uD83D\uDC80","☠️","\uD83D\uDC7D","\uD83D\uDC7E","\uD83E\uDD16","\uD83C\uDF83","\uD83D\uDE3A","\uD83D\uDE38","\uD83D\uDE39","\uD83D\uDE3B","\uD83D\uDE3C","\uD83D\uDE3D","\uD83D\uDE40","\uD83D\uDE3F","\uD83D\uDE3E"]},{label:"动物与自然",icon:"\uD83D\uDC3B",emojis:["\uD83D\uDE48","\uD83D\uDE49","\uD83D\uDE4A","\uD83D\uDC35","\uD83D\uDC12","\uD83E\uDD8D","\uD83D\uDC36","\uD83D\uDC15","\uD83D\uDC29","\uD83D\uDC3A","\uD83E\uDD8A","\uD83D\uDC31","\uD83D\uDC08","\uD83E\uDD81","\uD83D\uDC2F","\uD83D\uDC05","\uD83D\uDC06","\uD83D\uDC34","\uD83D\uDC0E","\uD83E\uDD84","\uD83E\uDD93","\uD83E\uDD8C","\uD83D\uDC2E","\uD83D\uDC02","\uD83D\uDC03","\uD83D\uDC04","\uD83D\uDC37","\uD83D\uDC16","\uD83D\uDC17","\uD83D\uDC3D","\uD83D\uDC0F","\uD83D\uDC11","\uD83D\uDC10","\uD83D\uDC2A","\uD83D\uDC2B","\uD83E\uDD92","\uD83D\uDC18","\uD83E\uDD8F","\uD83D\uDC2D","\uD83D\uDC01","\uD83D\uDC00","\uD83D\uDC39","\uD83D\uDC30","\uD83D\uDC07","\uD83D\uDC3F️","\uD83E\uDD94","\uD83E\uDD87","\uD83D\uDC3B","\uD83D\uDC28","\uD83D\uDC3C","\uD83E\uDD98","\uD83D\uDC3E","\uD83E\uDD83","\uD83D\uDC14","\uD83D\uDC13","\uD83D\uDC23","\uD83D\uDC24","\uD83D\uDC25","\uD83D\uDC26","\uD83D\uDC27","\uD83D\uDD4A️","\uD83E\uDD85","\uD83E\uDD86","\uD83E\uDDA2","\uD83E\uDD89","\uD83D\uDC38","\uD83D\uDC0A","\uD83D\uDC22","\uD83E\uDD8E","\uD83D\uDC0D","\uD83D\uDC32","\uD83D\uDC09","\uD83D\uDC33","\uD83D\uDC0B","\uD83D\uDC2C","\uD83D\uDC1F","\uD83D\uDC20","\uD83D\uDC21","\uD83E\uDD88","\uD83D\uDC19","\uD83D\uDC1A","\uD83D\uDC0C","\uD83E\uDD8B","\uD83D\uDC1B","\uD83D\uDC1C","\uD83D\uDC1D","\uD83D\uDC1E","\uD83E\uDD97","\uD83D\uDD77️","\uD83D\uDD78️","\uD83E\uDD82","\uD83D\uDC90","\uD83C\uDF38","\uD83D\uDCAE","\uD83C\uDF39","\uD83C\uDF3A","\uD83C\uDF3B","\uD83C\uDF3C","\uD83C\uDF37","\uD83C\uDF31","\uD83C\uDF32","\uD83C\uDF33","\uD83C\uDF34","\uD83C\uDF35","\uD83C\uDF3E","\uD83C\uDF3F","☘️","\uD83C\uDF40","\uD83C\uDF41","\uD83C\uDF42","\uD83C\uDF43"]},{label:"食物与饮料",icon:"\uD83C\uDF54",emojis:["\uD83C\uDF47","\uD83C\uDF48","\uD83C\uDF49","\uD83C\uDF4A","\uD83C\uDF4B","\uD83C\uDF4C","\uD83C\uDF4D","\uD83C\uDF4E","\uD83C\uDF4F","\uD83C\uDF50","\uD83C\uDF51","\uD83C\uDF52","\uD83C\uDF53","\uD83C\uDF45","\uD83E\uDD65","\uD83E\uDD51","\uD83C\uDF46","\uD83E\uDD54","\uD83E\uDD55","\uD83C\uDF3D","\uD83C\uDF36️","\uD83E\uDD52","\uD83E\uDD66","\uD83E\uDDC4","\uD83E\uDDC5","\uD83C\uDF44","\uD83E\uDD5C","\uD83C\uDF30","\uD83C\uDF5E","\uD83E\uDD50","\uD83E\uDD56","\uD83E\uDD68","\uD83E\uDD5E","\uD83E\uDDC0","\uD83C\uDF56","\uD83C\uDF57","\uD83E\uDD69","\uD83E\uDD53","\uD83C\uDF54","\uD83C\uDF5F","\uD83C\uDF55","\uD83C\uDF2D","\uD83E\uDD6A","\uD83C\uDF2E","\uD83C\uDF2F","\uD83E\uDD59","\uD83E\uDD5A","\uD83C\uDF73","\uD83E\uDD58","\uD83C\uDF72","\uD83E\uDD63","\uD83E\uDD57","\uD83C\uDF7F","\uD83E\uDDC8","\uD83E\uDDC2","\uD83E\uDD6B","\uD83C\uDF71","\uD83C\uDF58","\uD83C\uDF59","\uD83C\uDF5A","\uD83C\uDF5B","\uD83C\uDF5C","\uD83C\uDF5D","\uD83C\uDF60","\uD83C\uDF62","\uD83C\uDF63","\uD83C\uDF64","\uD83C\uDF65","\uD83C\uDF61","\uD83E\uDD5F","\uD83E\uDD60","\uD83E\uDD61","\uD83E\uDD80","\uD83E\uDD9E","\uD83E\uDD90","\uD83E\uDD91","\uD83C\uDF66","\uD83C\uDF67","\uD83C\uDF68","\uD83C\uDF69","\uD83C\uDF6A","\uD83C\uDF82","\uD83C\uDF70","\uD83E\uDD67","\uD83C\uDF6B","\uD83C\uDF6C","\uD83C\uDF6D","\uD83C\uDF6E","\uD83C\uDF6F","\uD83C\uDF7C","\uD83E\uDD5B","☕","\uD83C\uDF75","\uD83C\uDF76","\uD83C\uDF7E","\uD83C\uDF77","\uD83C\uDF78","\uD83C\uDF79","\uD83C\uDF7A","\uD83C\uDF7B","\uD83E\uDD42","\uD83E\uDD43"]},{label:"活动",icon:"⚽️",emojis:["\uD83C\uDF83","\uD83C\uDF84","\uD83C\uDF86","\uD83C\uDF87","✨","\uD83C\uDF88","\uD83C\uDF89","\uD83C\uDF8A","\uD83C\uDF8B","\uD83C\uDF8C","\uD83C\uDF8D","\uD83C\uDF8E","\uD83C\uDF8F","\uD83C\uDF90","\uD83C\uDF91","\uD83C\uDF80","\uD83C\uDF81","\uD83C\uDF97️","\uD83C\uDF9F️","\uD83C\uDFAB","\uD83C\uDF96️","\uD83C\uDFC6","\uD83C\uDFC5","\uD83E\uDD47","\uD83E\uDD48","\uD83E\uDD49","⚽","⚾","\uD83C\uDFC0","\uD83C\uDFD0","\uD83C\uDFC8","\uD83C\uDFC9","\uD83C\uDFBE","\uD83C\uDFB3","\uD83C\uDFCF","\uD83C\uDFD1","\uD83C\uDFD2","\uD83C\uDFD3","\uD83C\uDFF8","\uD83E\uDD4A","\uD83E\uDD4B","\uD83E\uDD45","⛳","⛸️","\uD83C\uDFA3","\uD83C\uDFBD","\uD83C\uDFBF","\uD83D\uDEF7","\uD83C\uDFAF","\uD83C\uDFB1","\uD83D\uDD2E","\uD83C\uDFAE","\uD83D\uDD79️","\uD83C\uDFB0","\uD83C\uDFB2","\uD83E\uDDE9","\uD83E\uDDF8","♟️","\uD83C\uDFAD","\uD83C\uDFA8","\uD83E\uDDF5","\uD83E\uDDF6","\uD83D\uDC53","\uD83D\uDD76️","\uD83D\uDC54","\uD83D\uDC55","\uD83D\uDC56","\uD83E\uDDE3","\uD83E\uDDE4","\uD83E\uDDE5","\uD83E\uDDE6","\uD83D\uDC57","\uD83D\uDC58","\uD83D\uDC59","\uD83D\uDC5A","\uD83D\uDC5B","\uD83D\uDC5C","\uD83D\uDC5D","\uD83C\uDF92","\uD83D\uDC5E","\uD83D\uDC5F","\uD83D\uDC60","\uD83D\uDC61","\uD83D\uDC62","\uD83D\uDC51","\uD83D\uDC52","\uD83C\uDFA9","\uD83C\uDF93","\uD83E\uDDE2","\uD83D\uDC84","\uD83D\uDC8D","\uD83D\uDCBC"]},{label:"旅行与地点",icon:"✈️",emojis:["\uD83D\uDE97","\uD83D\uDE95","\uD83D\uDE99","\uD83D\uDE8C","\uD83D\uDE8E","\uD83C\uDFCE️","\uD83D\uDE93","\uD83D\uDE91","\uD83D\uDE92","\uD83D\uDE90","\uD83D\uDE9A","\uD83D\uDE9B","\uD83D\uDE9C","\uD83E\uDDAF","\uD83E\uDDBD","\uD83E\uDDBC","\uD83D\uDEF4","\uD83D\uDEB2","\uD83D\uDEF5","\uD83C\uDFCD️","\uD83D\uDEFA","\uD83D\uDEA8","\uD83D\uDE94","\uD83D\uDE8D","\uD83D\uDE98","\uD83D\uDE96","\uD83D\uDEA1","\uD83D\uDEA0","\uD83D\uDE9F","\uD83D\uDE83","\uD83D\uDE8B","\uD83D\uDE9E","\uD83D\uDE9D","\uD83D\uDE84","\uD83D\uDE85","\uD83D\uDE88","\uD83D\uDE82","\uD83D\uDE86","\uD83D\uDE87","\uD83D\uDE8A","\uD83D\uDE89","✈️","\uD83D\uDEEB","\uD83D\uDEEC","\uD83D\uDEE9️","\uD83D\uDCBA","\uD83D\uDEF0️","\uD83D\uDE80","\uD83D\uDEF8","\uD83D\uDE81","\uD83D\uDEF6","⛵","\uD83D\uDEA4","\uD83D\uDEE5️","\uD83D\uDEF3️","⛴️","\uD83D\uDEA2","⚓","⛽","\uD83D\uDEA7","\uD83D\uDEA6","\uD83D\uDEA5","\uD83D\uDE8F","\uD83D\uDDFA️","\uD83D\uDDFF","\uD83D\uDDFD","\uD83D\uDDFC","\uD83C\uDFF0","\uD83C\uDFEF","\uD83C\uDFDF️","\uD83C\uDFA1","\uD83C\uDFA2","\uD83C\uDFA0","⛲","⛱️","\uD83C\uDFD6️","\uD83C\uDFDD️","\uD83C\uDFDC️","\uD83C\uDF0B","⛰️","\uD83C\uDFD4️","\uD83D\uDDFB","\uD83C\uDFD5️","⛺","\uD83C\uDFE0","\uD83C\uDFE1","\uD83C\uDFD8️","\uD83C\uDFDA️","\uD83C\uDFD7️","\uD83C\uDFED","\uD83C\uDFE2","\uD83C\uDFEC","\uD83C\uDFE3","\uD83C\uDFE4","\uD83C\uDFE5","\uD83C\uDFE6","\uD83C\uDFE8","\uD83C\uDFEA","\uD83C\uDFEB","\uD83C\uDFE9","\uD83D\uDC92","\uD83C\uDFDB️","⛪","\uD83D\uDD4C","\uD83D\uDD4D","\uD83D\uDED5","\uD83D\uDD4B","⛩️","\uD83D\uDEE4️","\uD83D\uDEE3️","\uD83D\uDDFE","\uD83C\uDF91","\uD83C\uDFDE️","\uD83C\uDF05","\uD83C\uDF04","\uD83C\uDF20","\uD83C\uDF87","\uD83C\uDF86","\uD83C\uDF07","\uD83C\uDF06","\uD83C\uDFD9️","\uD83C\uDF03","\uD83C\uDF0C","\uD83C\uDF09","\uD83C\uDF01"]},{label:"符号",icon:"❤️",emojis:["❤️","\uD83E\uDDE1","\uD83D\uDC9B","\uD83D\uDC9A","\uD83D\uDC99","\uD83D\uDC9C","\uD83E\uDD0E","\uD83D\uDDA4","\uD83E\uDD0D","\uD83D\uDC94","❣️","\uD83D\uDC95","\uD83D\uDC9E","\uD83D\uDC93","\uD83D\uDC97","\uD83D\uDC96","\uD83D\uDC98","\uD83D\uDC9D","\uD83D\uDC9F","☮️","✝️","☪️","\uD83D\uDD49️","☸️","✡️","\uD83D\uDD2F","\uD83D\uDD4E","☯️","☦️","\uD83D\uDED0","⛎","♈","♉","♊","♋","♌","♍","♎","♏","♐","♑","♒","♓","\uD83C\uDD94","⚛️","\uD83C\uDE51","☢️","☣️","\uD83D\uDCF4","\uD83D\uDCF3","\uD83C\uDE36","\uD83C\uDE1A","\uD83C\uDE38","\uD83C\uDE3A","\uD83C\uDE37️","✴️","\uD83C\uDD9A","\uD83D\uDCAE","\uD83C\uDE50","㊙️","㊗️","\uD83C\uDE34","\uD83C\uDE35","\uD83C\uDE39","\uD83C\uDE32","\uD83C\uDD70️","\uD83C\uDD71️","\uD83C\uDD8E","\uD83C\uDD91","\uD83C\uDD7E️","\uD83C\uDD98","❌","⭕","\uD83D\uDED1","⛔","\uD83D\uDCDB","\uD83D\uDEAB","\uD83D\uDCAF","\uD83D\uDCA2","♨️","\uD83D\uDEB7","\uD83D\uDEAF","\uD83D\uDEB3","\uD83D\uDEB1","\uD83D\uDD1E","\uD83D\uDCF5","\uD83D\uDEAD","❗","❕","❓","❔","‼️","⁉️","\uD83D\uDD05","\uD83D\uDD06","〽️","⚠️","\uD83D\uDEB8","\uD83D\uDD31","⚜️","\uD83D\uDD30","♻️","✅","\uD83C\uDE2F","\uD83D\uDCB9","❇️","✳️","❎","\uD83C\uDF10","\uD83D\uDCA0","Ⓜ️","\uD83C\uDF00","\uD83D\uDCA4","\uD83C\uDFE7","\uD83D\uDEBE","♿","\uD83C\uDD7F️","\uD83D\uDED7","\uD83C\uDE33","\uD83C\uDE02️","\uD83D\uDEC2","\uD83D\uDEC3","\uD83D\uDEC4","\uD83D\uDEC5","\uD83D\uDEB9","\uD83D\uDEBA","\uD83D\uDEBC","\uD83D\uDEBB","\uD83D\uDEAE","\uD83C\uDFA6","\uD83D\uDCF6","\uD83C\uDE01","\uD83D\uDD23","ℹ️","\uD83D\uDD24","\uD83D\uDD21","\uD83D\uDD20","\uD83C\uDD96","\uD83C\uDD97","\uD83C\uDD99","\uD83C\uDD92","\uD83C\uDD95","\uD83C\uDD93","0️⃣","1️⃣","2️⃣","3️⃣","4️⃣","5️⃣","6️⃣","7️⃣","8️⃣","9️⃣","\uD83D\uDD1F","\uD83D\uDD22","#️⃣","*️⃣","⏏️","▶️","⏸️","⏯️","⏹️","⏺️","⏭️","⏮️","⏩","⏪","⏫","⏬","◀️","\uD83D\uDD3C","\uD83D\uDD3D","➡️","⬅️","⬆️","⬇️","↗️","↘️","↙️","↖️","↕️","↔️","↪️","↩️","⤴️","⤵️","\uD83D\uDD00","\uD83D\uDD01","\uD83D\uDD02","\uD83D\uDD04","\uD83D\uDD03","\uD83C\uDFB5","\uD83C\uDFB6","➕","➖","➗","✖️","♾️","\uD83D\uDCB2","\uD83D\uDCB1","™️","\xa9️","\xae️","\uD83D\uDD1A","\uD83D\uDD19","\uD83D\uDD1B","\uD83D\uDD1D","\uD83D\uDD1C","✔️","☑️","\uD83D\uDD18","\uD83D\uDD34","\uD83D\uDFE0","\uD83D\uDFE1","\uD83D\uDFE2","\uD83D\uDD35","\uD83D\uDFE3","\uD83D\uDFE4","⚫","⚪","\uD83D\uDFE5","\uD83D\uDFE7","\uD83D\uDFE8","\uD83D\uDFE9","\uD83D\uDFE6","\uD83D\uDFEA","\uD83D\uDFEB","⬛","⬜","◼️","◻️","◾","◽","▪️","▫️","\uD83D\uDD36","\uD83D\uDD37","\uD83D\uDD38","\uD83D\uDD39","\uD83D\uDD3A","\uD83D\uDD3B","\uD83D\uDCA0","\uD83D\uDD18","\uD83D\uDD33","\uD83D\uDD32"]}];function h(D){let{onEmojiSelect:u}=D,[e,o]=(0,n.useState)(0),r=D=>{o(D)},i=D=>{u(D)};return(0,t.jsxs)("section",{className:"emoji-container bg-panel border border-borderPanel rounded-xl p-4 shadow-[0_4px_18px_rgba(0,0,0,0.22)] h-full flex flex-col overflow-hidden",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)("h2",{className:"text-lg font-semibold text-text",children:"表情选择"}),(0,t.jsx)("div",{className:"text-sm text-muted",children:"点击表情插入到光标位置"})]}),(0,t.jsx)("div",{className:"flex gap-2 mb-4 overflow-x-auto pb-2 flex-shrink-0",children:m.map((D,u)=>(0,t.jsxs)("button",{className:"emoji-button flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium whitespace-nowrap transition-all ".concat(e===u?"bg-ring text-white shadow-md":"bg-button text-text border border-buttonBorder hover:bg-buttonPrimary hover:border-ring"),onClick:()=>r(u),title:D.label,children:[(0,t.jsx)("span",{className:"text-lg emoji-button",children:D.icon}),(0,t.jsx)("span",{children:D.label})]},u))}),(0,t.jsx)("div",{className:"bg-button/30 rounded-lg p-4 flex-1 overflow-y-auto",children:(0,t.jsx)("div",{className:"grid grid-cols-8 sm:grid-cols-10 md:grid-cols-12 lg:grid-cols-12 xl:grid-cols-12 gap-2",children:m[e].emojis.map((D,u)=>(0,t.jsx)("button",{className:"emoji-button text-2xl p-2 rounded-lg hover:bg-buttonPrimary hover:scale-110 transition-all duration-200 text-center border border-transparent hover:border-ring/30 hover:shadow-md",onClick:()=>i(D),title:D,children:D},u))})}),(0,t.jsxs)("div",{className:"text-xs text-muted mt-3 text-center flex-shrink-0",children:["当前分类：",m[e].label,(0,t.jsx)("span",{className:"mx-2",children:"•"}),"共 ",m[e].emojis.length," 个表情"]})]})}function F(){let[D,u]=(0,n.useState)(""),[e,l]=(0,n.useState)(!1),[a,C]=(0,n.useState)(!1),[m,F]=(0,n.useState)(50),[x,f]=(0,n.useState)(85),[p,g]=(0,n.useState)(!0),b=(0,n.useRef)(null),w=(0,n.useRef)(null),v=(0,n.useRef)(null),[j,y]=(0,n.useState)(!1),[B,A]=(0,n.useState)(!1),N={width:"emoji_editor_split_width",height:"emoji_editor_split_height"};(0,n.useEffect)(()=>{u(s("2025 Zhangjiajie Travel Guide Is Here!!!||\nThe 9 Must-See Spots in Zhangjiajie❗❗Read Before You Go❗\n\uD83D\uDCCDMust-see attractions:\n1️⃣ Zhangjiajie National Forest Park\n2️⃣ Tianmen Mountain National Forest Park\n3️⃣ Wulingyuan Scenic Area\n4️⃣ Baofeng Lake\n5️⃣ Huanglong Cave\n6️⃣ Zhangjiajie Grand Canyon Glass Bridge\n7️⃣ Furong Town\n8️⃣ Phoenix Ancient Town (Fenghuang)\n9️⃣ Tianmen Cave"));try{let D=localStorage.getItem(N.width),u=localStorage.getItem(N.height);if(D){let u=Number(D);!Number.isNaN(u)&&u>=20&&u<=80&&F(u)}if(u){let D=Number(u);!Number.isNaN(D)&&D>=40&&D<=95&&f(D)}}catch(D){}},[]),(0,n.useEffect)(()=>{let D=()=>{g(window.innerWidth>=1024)};return D(),window.addEventListener("resize",D),()=>window.removeEventListener("resize",D)},[]);let k=async()=>{try{await navigator.clipboard.writeText(D),C(!0),setTimeout(()=>C(!1),1200)}catch(D){alert("复制失败："+D)}};return(0,n.useEffect)(()=>{let D=D=>{if(j&&w.current){let u=w.current.getBoundingClientRect();F(Math.min(80,Math.max(20,(D.clientX-u.left)/u.width*100)))}if(B&&v.current){let u=v.current.getBoundingClientRect();f(Math.min(95,Math.max(40,(D.clientY-u.top)/u.height*100)))}},u=()=>{y(!1),A(!1)};return(j||B)&&(document.addEventListener("mousemove",D),document.addEventListener("mouseup",u),document.body.style.cursor=j?"col-resize":"row-resize",document.body.style.userSelect="none"),()=>{document.removeEventListener("mousemove",D),document.removeEventListener("mouseup",u),document.body.style.cursor="",document.body.style.userSelect=""}},[j,B]),(0,n.useEffect)(()=>{try{localStorage.setItem(N.width,String(m)),localStorage.setItem(N.height,String(x))}catch(D){}},[m,x]),(0,t.jsxs)("main",{className:"h-screen flex flex-col",children:[(0,t.jsx)(c,{}),(0,t.jsxs)("header",{className:"flex items-center justify-between mb-3 flex-shrink-0",children:[(0,t.jsxs)("h1",{className:"text-lg font-semibold",children:["Emoji 适配可编辑工具"," ",(0,t.jsx)("span",{className:"inline-block px-2 py-0.5 text-xs rounded-full bg-accent/20 text-accent ml-2",children:"导出：HTML / HTML(快照) / MD / PDF"})]}),(0,t.jsx)(E,{})]}),(0,t.jsxs)("div",{ref:v,className:"flex-1 min-h-0 flex flex-col gap-3 overflow-hidden",children:[(0,t.jsxs)("div",{ref:w,className:"flex flex-col lg:flex-row gap-3 relative overflow-hidden min-h-0",style:{height:"".concat(x,"%")},children:[(0,t.jsxs)("section",{className:"bg-panel border border-borderPanel rounded-xl p-3 shadow-[0_4px_18px_rgba(0,0,0,0.22)] flex flex-col overflow-hidden min-h-0",style:{width:p?"".concat(m,"%"):"100%",height:p?"100%":"50%"},children:[(0,t.jsx)(i,{onFixKeycaps:()=>{u(s(D))},onListToKeycap:()=>{u(D.replace(/(^|\n)([1-9])(?:[.\-、\)]?\s)/g,(D,u,e)=>"".concat(u).concat(e,"️⃣ ")))},onCopy:k,onClear:()=>{u("")},copyStatus:a}),(0,t.jsx)("div",{className:"flex-1 min-h-0 overflow-hidden",children:(0,t.jsx)(o,{ref:b,content:D,onChange:u})}),(0,t.jsx)("div",{className:"text-muted text-xs mt-2",children:'提示：先点"修复旧式 Keycap"，必要时再把段首数字转换为 1️⃣2️⃣3️⃣。'})]}),(0,t.jsxs)("div",{className:"hidden lg:block w-1 hover:w-2 bg-transparent hover:bg-ring/30 cursor-col-resize transition-all duration-200 rounded-full flex-shrink-0 relative group",onMouseDown:D=>{y(!0),D.preventDefault()},children:[(0,t.jsx)("div",{className:"absolute inset-0 -mx-2"}),(0,t.jsx)("div",{className:"w-full h-full bg-transparent group-hover:bg-ring/50 transition-colors duration-200 rounded-full"})]}),(0,t.jsxs)("section",{className:"bg-panel border border-borderPanel rounded-xl p-3 shadow-[0_4px_18px_rgba(0,0,0,0.22)] flex flex-col overflow-hidden min-h-0",style:{width:p?"".concat(100-m,"%"):"100%",height:p?"100%":"50%"},children:[(0,t.jsx)(d,{content:D,editorRef:b,previewEnabled:e,onTogglePreview:()=>{l(!e)}}),(0,t.jsx)("div",{className:"flex-1 min-h-0 overflow-hidden",children:(0,t.jsx)(r,{content:D,enabled:e})}),!e&&(0,t.jsx)("div",{className:"text-muted text-xs mt-2",children:"未开启预览（为避免把文字替换成图片，编辑区保持原生 emoji）。"})]})]}),(0,t.jsxs)("div",{className:"h-3 bg-transparent hover:bg-ring/20 cursor-row-resize transition-all duration-200 flex-shrink-0 relative group flex items-center justify-center",onMouseDown:D=>{A(!0),D.preventDefault()},children:[(0,t.jsx)("div",{className:"absolute inset-0 -my-4 w-full"}),(0,t.jsx)("div",{className:"w-12 h-1 bg-ring/20 group-hover:bg-ring/40 transition-colors duration-200 rounded-full"})]}),(0,t.jsx)("div",{style:{height:"".concat(100-x,"%"),minHeight:"100px"},className:"overflow-hidden min-h-0",children:(0,t.jsx)(h,{onEmojiSelect:D=>{if(b.current){let e=window.getSelection();if(e&&e.rangeCount>0&&b.current.contains(e.anchorNode)){let t=e.getRangeAt(0);t.deleteContents();let n=document.createTextNode(D);t.insertNode(n),t.setStartAfter(n),t.collapse(!0),e.removeAllRanges(),e.addRange(t),u(b.current.innerText)}else u(u=>u+D)}}})})]})]})}},33:function(D,u,e){"use strict";e.d(u,{$8:function(){return i},Fg:function(){return o},NK:function(){return r},Ni:function(){return n}});var t=e(2265);let n=(0,t.createContext)(void 0),o=()=>{let D=(0,t.useContext)(n);if(void 0===D)throw Error("useTheme must be used within a ThemeProvider");return D},r=()=>{{let D=localStorage.getItem("emoji-editor-theme");if("dark"===D||"light"===D)return D;if(window.matchMedia&&window.matchMedia("(prefers-color-scheme: light)").matches)return"light"}return"dark"},i=D=>{localStorage.setItem("emoji-editor-theme",D)}}},function(D){D.O(0,[971,23,744],function(){return D(D.s=6951)}),_N_E=D.O()}]);